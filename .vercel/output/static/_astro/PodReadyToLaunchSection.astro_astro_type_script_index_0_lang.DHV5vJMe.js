const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/summaryShared.-iQDg7sh.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as u}from"./preload-helper.BlTxHScW.js";let t="";function i(){const e=document.querySelector(".pod-ready-cta-btn");return e&&e.getAttribute("data-item-id")||""}document.addEventListener("DOMContentLoaded",function(){console.log("ðŸ”µ [PodReadyToLaunchSection] DOMContentLoaded - updating CTA button"),t=i(),console.log("ðŸ”µ [PodReadyToLaunchSection] Current pod ID from button:",t);try{const e=JSON.parse(localStorage.getItem("novapod-cart")||"[]"),d=e.find(a=>a.type==="pod");console.log("ðŸ”µ [PodReadyToLaunchSection] Immediate localStorage check - cart:",e),console.log("ðŸ”µ [PodReadyToLaunchSection] Immediate localStorage check - selectedPod:",d),console.log("ðŸ”µ [PodReadyToLaunchSection] Current pod ID:",t),d&&d.id===t?console.log("ðŸ”µ [PodReadyToLaunchSection] Pod is in cart - should show Remove Pod"):console.log("ðŸ”µ [PodReadyToLaunchSection] Pod is not in cart - should show Reserve Pod")}catch(e){console.error("ðŸ”µ [PodReadyToLaunchSection] Error in immediate localStorage check:",e)}setTimeout(()=>{s()},100)});document.addEventListener("cart-updated",function(){console.log("ðŸ”µ [PodReadyToLaunchSection] Cart updated event received - updating CTA button"),t=i(),setTimeout(()=>{s()},100)});window.addEventListener("cart-updated",function(){s()});async function s(){try{console.log("ðŸ”µ [PodReadyToLaunchSection] updatePodReadyCTA called");const{SummaryShared:e}=await u(async()=>{const{SummaryShared:r}=await import("./summaryShared.-iQDg7sh.js").then(l=>l.s);return{SummaryShared:r}},__vite__mapDeps([0,1])),a=await new e().getCart(),c=a.find(r=>r.type==="pod");console.log("ðŸ”µ [PodReadyToLaunchSection] Current cart:",a),console.log("ðŸ”µ [PodReadyToLaunchSection] Selected pod:",c),console.log("ðŸ”µ [PodReadyToLaunchSection] Current pod ID:",t);let o=document.querySelector(".pod-ready-cta-btn");console.log("ðŸ”µ [PodReadyToLaunchSection] Found button with .pod-ready-cta-btn:",o),t=i(),o||(o=document.querySelector(`[data-add-to-cart][data-item-id="${t}"]`),console.log("ðŸ”µ [PodReadyToLaunchSection] Found button with fallback selector:",o)),o||(o=document.querySelector(`#pod-ready-cta-${t}`),console.log("ðŸ”µ [PodReadyToLaunchSection] Found button with ID selector:",o));const n=o?.querySelector(".cta-text");console.log("ðŸ”µ [PodReadyToLaunchSection] Found ctaText:",n),o&&n?(console.log("ðŸ”µ [PodReadyToLaunchSection] Button and ctaText found - updating..."),console.log("ðŸ”µ [PodReadyToLaunchSection] Current button text:",n.textContent),console.log("ðŸ”µ [PodReadyToLaunchSection] Current button classes:",o.className),c&&c.id===t?(console.log('ðŸ”µ [PodReadyToLaunchSection] Pod is in cart - updating to "Remove Pod"'),o.classList.remove("bg-gradient-to-r","from-mint-500","to-cerulean-500","text-white","hover:from-mint-600","hover:to-cerulean-600","hover:scale-105","hover:shadow-lg","shadow-md"),o.classList.add("text-white","hover:text-red-300","bg-transparent","hover:bg-red-500/20","!text-white"),console.log("ðŸ”µ [PodReadyToLaunchSection] Updated button classes:",o.className),o.setAttribute("data-action","remove"),console.log("ðŸ”µ [PodReadyToLaunchSection] Updated data-action to: remove"),n.textContent="Remove Pod",console.log("ðŸ”µ [PodReadyToLaunchSection] Updated button text to: Remove Pod")):(console.log('ðŸ”µ [PodReadyToLaunchSection] Pod is not in cart - updating to "Reserve Pod"'),o.classList.remove("text-white","hover:text-red-300","bg-transparent","hover:bg-red-500/20","!text-white"),o.classList.add("bg-gradient-to-r","from-mint-500","to-cerulean-500","text-white","hover:from-mint-600","hover:to-cerulean-600","hover:scale-105","hover:shadow-lg","shadow-md"),console.log("ðŸ”µ [PodReadyToLaunchSection] Updated button classes:",o.className),o.setAttribute("data-action","add"),console.log("ðŸ”µ [PodReadyToLaunchSection] Updated data-action to: add"),n.textContent="Reserve Pod",console.log("ðŸ”µ [PodReadyToLaunchSection] Updated button text to: Reserve Pod"))):console.log("ðŸ”µ [PodReadyToLaunchSection] Button or ctaText not found")}catch(e){console.error("ðŸ”µ [PodReadyToLaunchSection] Error updating pod ready CTA:",e)}}
