const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/summaryShared.-iQDg7sh.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as l}from"./preload-helper.BlTxHScW.js";async function c(){try{const{SummaryShared:r}=await l(async()=>{const{SummaryShared:o}=await import("./summaryShared.-iQDg7sh.js").then(e=>e.s);return{SummaryShared:o}},__vite__mapDeps([0,1])),a=(await new r().getCart()).find(o=>o.type==="pod");document.querySelectorAll('[data-add-to-cart][data-item-type="pod"]').forEach(o=>{const e=o,t=e.getAttribute("data-item-id"),i=e.querySelector(".cta-text")||e;a&&a.id===t?(e.classList.remove("bg-gradient-to-r","from-[#22c55e]","to-[#0ea5e9]","hover:from-[#16a34a]","hover:to-[#0284c7]"),e.classList.add("text-gray-600","hover:text-red-500","bg-transparent","hover:bg-red-50/50","!text-gray-600"),i.textContent&&(i.textContent="Remove Pod")):(e.classList.remove("text-gray-600","hover:text-red-500","bg-transparent","hover:bg-red-50/50","!text-gray-600"),e.classList.add("bg-gradient-to-r","from-[#22c55e]","to-[#0ea5e9]","hover:from-[#16a34a]","hover:to-[#0284c7]"),i.textContent&&(i.textContent="Reserve Pod"))})}catch(r){console.error("Error updating home pod buttons:",r)}}document.addEventListener("DOMContentLoaded",function(){document.addEventListener("click",async function(r){const d=r.target.closest('[data-add-to-cart][data-item-type="pod"]');if(d){r.preventDefault(),r.stopPropagation();const a=d.getAttribute("data-item-id"),s=d.getAttribute("data-item-type"),o=d.getAttribute("data-item-title");if(d.getAttribute("data-item-description"),console.log(`🔍 [${new Date().toISOString()}] [Home] Pod add to cart clicked:`,{itemId:a,itemType:s,itemTitle:o}),a&&s==="pod")try{const{SummaryShared:e}=await l(async()=>{const{SummaryShared:n}=await import("./summaryShared.-iQDg7sh.js").then(f=>f.s);return{SummaryShared:n}},__vite__mapDeps([0,1])),t=new e,m=(await t.getCart()).find(n=>n.type==="pod");m&&m.id===a?window.removeItemConfirmationModal?window.removeItemConfirmationModal.show(o||"Current Pod","pod",async()=>{await t.removePod()?(t.showNotification(`${o||"Pod"} removed from cart!`),c()):t.showNotification("Failed to remove pod from cart","error")},()=>{console.log("Pod removal cancelled")}):await t.removePod()?(t.showNotification(`${o||"Pod"} removed from cart!`),c()):t.showNotification("Failed to remove pod from cart","error"):await t.selectPodWithConfirmation(a)&&(t.showNotification(`${o||"Pod"} added to cart!`),window.location.href="/summary?step=1")}catch(e){console.error("🔍 [Home] Error adding pod to cart:",e);const t=document.createElement("div");t.className="fixed top-4 right-4 bg-red-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",t.textContent="Error adding pod to cart",document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}}})});document.addEventListener("DOMContentLoaded",()=>{c()});window.addEventListener("cart-updated",()=>{c()});
