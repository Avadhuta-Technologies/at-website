const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/summaryShared.-iQDg7sh.js","_astro/preload-helper.BlTxHScW.js"])))=>i.map(i=>d[i]);
import{_ as f}from"./preload-helper.BlTxHScW.js";document.addEventListener("DOMContentLoaded",function(){const c=document.querySelector('meta[name="current-pod-id"]')?.getAttribute("content");console.log("ðŸ” [PodDetail] Pod ID from meta:",c),document.addEventListener("click",async function(a){const e=a.target?.closest('[data-add-to-cart][data-item-type="pack"]');if(!e)return;a.preventDefault(),a.stopPropagation();const t=e.dataset.itemId;console.log("ðŸ” [PodDetail] Pack button clicked:",{packId:t,podId:c});try{const{SummaryShared:s}=await f(async()=>{const{SummaryShared:n}=await import("./summaryShared.-iQDg7sh.js").then(i=>i.s);return{SummaryShared:n}},__vite__mapDeps([0,1])),o=new s,r=await o.getPackCartStatus(t);if(r.inCart){const u=(await o.getCart()).find(l=>l.id===t&&l.type==="pack")?.name||"Selected Pack";window.removeItemConfirmationModal?window.removeItemConfirmationModal.show(u,"pack",async()=>{await o.removePack(t),o.showNotification("Pack removed from cart","success")},()=>{console.log("Pack removal cancelled")}):(await o.removePack(t),o.showNotification("Pack removed from cart","success"))}else r.hasPod?(console.log("ðŸ” [PodDetail] Adding pack only:",t),await o.addPack(t)&&o.showNotification("Pack added to cart successfully!","success")):(console.log("ðŸ” [PodDetail] Adding both pod and pack:",{podId:c,packId:t}),await o.addPodAndPack(c,t)&&console.log("Pod and pack added successfully"))}catch(s){console.error("Error in pod detail cart handler:",s),m("Failed to add items to cart","error")}});function m(a,d="success"){const e=document.createElement("div"),t=d==="error"?"bg-red-500":"bg-green-500";e.className=`fixed top-4 right-4 ${t} text-white px-4 py-2 rounded-lg shadow-lg z-50 transform transition-all duration-300 translate-x-full`,e.textContent=a,document.body.appendChild(e),setTimeout(()=>{e.classList.remove("translate-x-full")},100),setTimeout(()=>{e.classList.add("translate-x-full"),setTimeout(()=>{document.body.contains(e)&&document.body.removeChild(e)},300)},3e3)}});
