 ---
import { ourWorkIndustriesData } from '../../content/our-work/_industries.js';
import OurWorkIndustryCard from './OurWorkIndustryCard.astro';

interface Props {
  data?: typeof ourWorkIndustriesData;
  className?: string;
}

const { data = ourWorkIndustriesData, className = "" } = Astro.props;
---

<section id="industries-section">
  <div class="container mx-auto max-w-screen-2xl px-4">    
    <!-- Industries Grid -->
    <div class="max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-6 mx-auto">
      {data.industries.map((industry, industryIndex) => (
        <OurWorkIndustryCard industry={industry} index={industryIndex} />
      ))}
    </div>
  </div>
</section>

<script>
  // Scroll-triggered animations for industry cards
  function initScrollAnimations() {
    const observerOptions = {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    };

    const cardObserver = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          // Add delay for staggered animation
          setTimeout(() => {
            entry.target.classList.add('animate');
          }, index * 100);
        }
      });
    }, observerOptions);

    // Observe all industry cards
    document.querySelectorAll('.industry-card').forEach(card => {
      cardObserver.observe(card);
    });
  }

  // Initialize animations when DOM is loaded
  document.addEventListener('DOMContentLoaded', initScrollAnimations);
</script>

 